<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FreeMat: vtkLineIntegralConvolution2D</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FreeMat
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('vtkrendering_vtklineintegralconvolution2d.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">vtkLineIntegralConvolution2D </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Section: <a class="el" href="sec_vtkrendering.html">Visualization Toolkit Rendering Classes</a> </p>
<h1><a class="anchor" id="Usage"></a>
Usage</h1>
<p>This class resorts to GLSL to implement GPU-based Line Integral Convolution (LIC) for visualizing a 2D vector field that may be obtained by projecting an original 3D vector field onto a surface (such that the resulting 2D vector at each grid point on the surface is tangential to the local normal, as done in vtkSurfaceLICPainter).</p>
<p>As an image-based technique, 2D LIC works by (1) integrating a bidirectional streamline from the center of each pixel (of the LIC output image), (2) locating the pixels along / hit by this streamline as the correlated pixels of the starting pixel (seed point / pixel), (3) indexing a (usually white) noise texture (another input to LIC, in addition to the 2D vector field, usually with the same size as that of the 2D vetor field) to determine the values (colors) of these pixels (the starting and the correlated pixels), typically through bi-linear interpolation, and (4) performing convolution (weighted averaging) on these values, by adopting a low-pass filter (such as box, ramp, and Hanning kernels), to obtain the result value (color) that is then assigned to the seed pixel.</p>
<p>The GLSL-based GPU implementation herein maps the aforementioned pipeline to fragment shaders and a box kernel is employed. Both the white noise and the vector field are provided to the GPU as texture objects (supported by the multi-texturing capability). In addition, there are four texture objects (color buffers) allocated to constitute two pairs that work in a ping-pong fashion, with one as the read buffers and the other as the write / render targets. Maintained by a frame buffer object (GL_EXT_framebuffer_object), each pair employs one buffer to store the current (dynamically updated) position (by means of the texture coordinate that keeps being warped by the underlying vector) of the (virtual) particle initially released from each fragment while using the bother buffer to store the current (dynamically updated too) accumulated texture value that each seed fragment (before the 'mesh' is warped) collects. Given NumberOfSteps integration steps in each direction, there are a total of (2 * NumberOfSteps + 1) fragments (including the seed fragment) are convolved and each contributes 1 / (2 * NumberOfSteps</p>
<ul>
<li>1) of the associated texture value to fulfill the box filter.</li>
</ul>
<p>One pass of LIC (basic LIC) tends to produce low-contrast / blurred images and vtkLineIntegralConvolution2D provides an option for creating enhanced LIC images. Enhanced LIC improves image quality by increasing inter-streamline contrast while suppressing artifacts. It performs two passes of LIC, with a 3x3 Laplacian high-pass filter in between that processes the output of pass #1 LIC and forwards the result as the input 'noise' to pass #2 LIC. Enhanced LIC automatically degenerates to basic LIC during user interaction.</p>
<p>vtkLineIntegralConvolution2D applies masking to zero-vector fragments so that un-filtered white noise areas are made totally transparent by class vtkSurfaceLICPainter to show the underlying geometry surface.</p>
<p>.SECTION Required OpenGL Extensins GL_ARB_texture_non_power_of_two GL_VERSION_2_0 GL_ARB_texture_float GL_ARB_draw_buffers GL_EXT_framebuffer_object</p>
<p>To create an instance of class vtkLineIntegralConvolution2D, simply invoke its constructor as follows </p>
<pre class="fragment">  obj = vtkLineIntegralConvolution2D
</pre> <h1><a class="anchor" id="Methods"></a>
Methods</h1>
<p>The class vtkLineIntegralConvolution2D has several methods that can be used. They are listed below. Note that the documentation is translated automatically from the VTK sources, and may not be completely intelligible. When in doubt, consult the VTK website. In the methods listed below, <code>obj</code> is an instance of the vtkLineIntegralConvolution2D class. </p>
<ul>
<li>
<code>string = obj.GetClassName ()</code>  </li>
<li>
<code>int = obj.IsA (string name)</code>  </li>
<li>
<code>vtkLineIntegralConvolution2D = obj.NewInstance ()</code>  </li>
<li>
<code>vtkLineIntegralConvolution2D = obj.SafeDownCast (vtkObject o)</code>  </li>
<li>
<code>obj.SetEnhancedLIC (int )</code> - Enable/Disable enhanced LIC that improves image quality by increasing inter-streamline contrast while suppressing artifacts. Enhanced LIC performs two passes of LIC, with a 3x3 Laplacian high-pass filter in between that processes the output of pass #1 LIC and forwards the result as the input 'noise' to pass #2 LIC. This flag is automatically turned off during user interaction.  </li>
<li>
<code>int = obj.GetEnhancedLIC ()</code> - Enable/Disable enhanced LIC that improves image quality by increasing inter-streamline contrast while suppressing artifacts. Enhanced LIC performs two passes of LIC, with a 3x3 Laplacian high-pass filter in between that processes the output of pass #1 LIC and forwards the result as the input 'noise' to pass #2 LIC. This flag is automatically turned off during user interaction.  </li>
<li>
<code>obj.EnhancedLICOn ()</code> - Enable/Disable enhanced LIC that improves image quality by increasing inter-streamline contrast while suppressing artifacts. Enhanced LIC performs two passes of LIC, with a 3x3 Laplacian high-pass filter in between that processes the output of pass #1 LIC and forwards the result as the input 'noise' to pass #2 LIC. This flag is automatically turned off during user interaction.  </li>
<li>
<code>obj.EnhancedLICOff ()</code> - Enable/Disable enhanced LIC that improves image quality by increasing inter-streamline contrast while suppressing artifacts. Enhanced LIC performs two passes of LIC, with a 3x3 Laplacian high-pass filter in between that processes the output of pass #1 LIC and forwards the result as the input 'noise' to pass #2 LIC. This flag is automatically turned off during user interaction.  </li>
<li>
<code>obj.SetLICForSurface (int )</code>  </li>
<li>
<code>int = obj.GetLICForSurface ()</code>  </li>
<li>
<code>obj.LICForSurfaceOn ()</code>  </li>
<li>
<code>obj.LICForSurfaceOff ()</code>  </li>
<li>
<code>obj.SetNumberOfSteps (int )</code> - Number of streamline integration steps (initial value is 1). In term of visual quality, the greater (within some range) the better.  </li>
<li>
<code>int = obj.GetNumberOfSteps ()</code> - Number of streamline integration steps (initial value is 1). In term of visual quality, the greater (within some range) the better.  </li>
<li>
<code>obj.SetLICStepSize (double )</code> - Get/Set the streamline integration step size (0.01 by default). This is the length of each step in normalized image space i.e. in range [0, 1]. In term of visual quality, the smaller the better. The type for the interface is double as VTK interface is, but GPU only supports float. Thus it will be converted to float in the execution of the algorithm.  </li>
<li>
<code>double = obj.GetLICStepSizeMinValue ()</code> - Get/Set the streamline integration step size (0.01 by default). This is the length of each step in normalized image space i.e. in range [0, 1]. In term of visual quality, the smaller the better. The type for the interface is double as VTK interface is, but GPU only supports float. Thus it will be converted to float in the execution of the algorithm.  </li>
<li>
<code>double = obj.GetLICStepSizeMaxValue ()</code> - Get/Set the streamline integration step size (0.01 by default). This is the length of each step in normalized image space i.e. in range [0, 1]. In term of visual quality, the smaller the better. The type for the interface is double as VTK interface is, but GPU only supports float. Thus it will be converted to float in the execution of the algorithm.  </li>
<li>
<code>double = obj.GetLICStepSize ()</code> - Get/Set the streamline integration step size (0.01 by default). This is the length of each step in normalized image space i.e. in range [0, 1]. In term of visual quality, the smaller the better. The type for the interface is double as VTK interface is, but GPU only supports float. Thus it will be converted to float in the execution of the algorithm.  </li>
<li>
<code>obj.SetNoise (vtkTextureObject noise)</code> - Set/Get the input white noise texture (initial value is NULL).  </li>
<li>
<code>vtkTextureObject = obj.GetNoise ()</code> - Set/Get the input white noise texture (initial value is NULL).  </li>
<li>
<code>obj.SetVectorField (vtkTextureObject vectorField)</code> - Set/Get the vector field (initial value is NULL).  </li>
<li>
<code>vtkTextureObject = obj.GetVectorField ()</code> - Set/Get the vector field (initial value is NULL).  </li>
<li>
<code>obj.SetComponentIds (int , int )</code> - If VectorField has &gt;= 3 components, we must choose which 2 components form the (X, Y) components for the vector field. Must be in the range [0, 3].  </li>
<li>
<code>obj.SetComponentIds (int a[2])</code> - If VectorField has &gt;= 3 components, we must choose which 2 components form the (X, Y) components for the vector field. Must be in the range [0, 3].  </li>
<li>
<code>int = obj. GetComponentIds ()</code> - If VectorField has &gt;= 3 components, we must choose which 2 components form the (X, Y) components for the vector field. Must be in the range [0, 3].  </li>
<li>
<code>obj.SetGridSpacings (double , double )</code> - Set/Get the spacing in each dimension of the plane on which the vector field is defined. This class performs LIC in the normalized image space and hence generally it needs to transform the input vector field (given in physical space) to the normalized image space. The Spacing is needed to determine the tranform. Default is (1.0, 1.0). It is possible to disable vector transformation by setting TransformVectors to 0.  </li>
<li>
<code>obj.SetGridSpacings (double a[2])</code> - Set/Get the spacing in each dimension of the plane on which the vector field is defined. This class performs LIC in the normalized image space and hence generally it needs to transform the input vector field (given in physical space) to the normalized image space. The Spacing is needed to determine the tranform. Default is (1.0, 1.0). It is possible to disable vector transformation by setting TransformVectors to 0.  </li>
<li>
<code>double = obj. GetGridSpacings ()</code> - Set/Get the spacing in each dimension of the plane on which the vector field is defined. This class performs LIC in the normalized image space and hence generally it needs to transform the input vector field (given in physical space) to the normalized image space. The Spacing is needed to determine the tranform. Default is (1.0, 1.0). It is possible to disable vector transformation by setting TransformVectors to 0.  </li>
<li>
<code>obj.SetTransformVectors (int )</code> - This class performs LIC in the normalized image space. Hence, by default it transforms the input vectors to the normalized image space (using the GridSpacings and input vector field dimensions). Set this to 0 to disable tranformation if the vectors are already tranformed.  </li>
<li>
<code>int = obj.GetTransformVectorsMinValue ()</code> - This class performs LIC in the normalized image space. Hence, by default it transforms the input vectors to the normalized image space (using the GridSpacings and input vector field dimensions). Set this to 0 to disable tranformation if the vectors are already tranformed.  </li>
<li>
<code>int = obj.GetTransformVectorsMaxValue ()</code> - This class performs LIC in the normalized image space. Hence, by default it transforms the input vectors to the normalized image space (using the GridSpacings and input vector field dimensions). Set this to 0 to disable tranformation if the vectors are already tranformed.  </li>
<li>
<code>obj.TransformVectorsOn ()</code> - This class performs LIC in the normalized image space. Hence, by default it transforms the input vectors to the normalized image space (using the GridSpacings and input vector field dimensions). Set this to 0 to disable tranformation if the vectors are already tranformed.  </li>
<li>
<code>obj.TransformVectorsOff ()</code> - This class performs LIC in the normalized image space. Hence, by default it transforms the input vectors to the normalized image space (using the GridSpacings and input vector field dimensions). Set this to 0 to disable tranformation if the vectors are already tranformed.  </li>
<li>
<code>int = obj.GetTransformVectors ()</code> - This class performs LIC in the normalized image space. Hence, by default it transforms the input vectors to the normalized image space (using the GridSpacings and input vector field dimensions). Set this to 0 to disable tranformation if the vectors are already tranformed.  </li>
<li>
<code>obj.SetMagnification (int )</code> - The the magnification factor (default is 1.0).  </li>
<li>
<code>int = obj.GetMagnificationMinValue ()</code> - The the magnification factor (default is 1.0).  </li>
<li>
<code>int = obj.GetMagnificationMaxValue ()</code> - The the magnification factor (default is 1.0).  </li>
<li>
<code>int = obj.GetMagnification ()</code> - The the magnification factor (default is 1.0).  </li>
<li>
<code>obj.SetVectorShiftScale (double shift, double scale)</code> - Returns if the context supports the required extensions.  </li>
<li>
<code>int = obj.Execute ()</code> - Perform the LIC and obtain the LIC texture. Return 1 if no error.  </li>
<li>
<code>int = obj.Execute (int extent[4])</code> - Same as Execute() except that the LIC operation is performed only on a window (given by the <code>extent</code>) in the input VectorField. The <code>extent</code> is relative to the input VectorField. The output LIC image will be of the size specified by extent.  </li>
<li>
<code>int = obj.Execute (int extent[4])</code> - Same as Execute() except that the LIC operation is performed only on a window (given by the <code>extent</code>) in the input VectorField. The <code>extent</code> is relative to the input VectorField. The output LIC image will be of the size specified by extent.  </li>
<li>
<code>obj.SetLIC (vtkTextureObject lic)</code> - LIC texture (initial value is NULL) set by Execute().  </li>
<li>
<code>vtkTextureObject = obj.GetLIC ()</code> - LIC texture (initial value is NULL) set by Execute().  </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">FreeMat Documentation</a></li><li class="navelem"><a class="el" href="sec_vtkrendering.html">Visualization Toolkit Rendering Classes</a></li>
    <li class="footer">Generated on Thu Jul 25 2013 17:18:35 for FreeMat by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.1 </li>
  </ul>
</div>
</body>
</html>
