<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FreeMat: vtkLabelHierarchy</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FreeMat
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('vtkrendering_vtklabelhierarchy.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">vtkLabelHierarchy </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Section: <a class="el" href="sec_vtkrendering.html">Visualization Toolkit Rendering Classes</a> </p>
<h1><a class="anchor" id="Usage"></a>
Usage</h1>
<p>This class represents labels in a hierarchy used to denote rendering priority. A binary tree of labels is maintained that subdivides the bounds of the of the label anchors spatially. Which level of the tree a label occupies determines its priority; those at higher levels of the tree will be more likely to render than those at lower levels of the tree.</p>
<p>Pass vtkLabelHierarchy objects to a vtkLabelPlacementMapper filter for dynamic, non-overlapping, per-frame placement of labels.</p>
<p>Note that if we have a d-dimensional binary tree and we want a fixed number <img class="formulaInl" alt="$n$" src="form_186.png"/> of labels in each node (all nodes, not just leaves), we can compute the depth of tree required assuming a uniform distribution of points. Given a total of <img class="formulaInl" alt="$N$" src="form_187.png"/> points we know that <img class="formulaInl" alt="$\frac{N}{|T|} = n$" src="form_188.png"/>, where <img class="formulaInl" alt="$|T|$" src="form_189.png"/> is the cardinality of the tree (i.e., the number of nodes it contains). Because we have a uniform distribution, the tree will be uniformly subdivided and thus <img class="formulaInl" alt="$|T| = 1 + 2^d + \left(2^d\right)^2 + \cdots + \left(2^d\right)^k$" src="form_190.png"/>, where <img class="formulaInl" alt="$d$" src="form_191.png"/> is the dimensionality of the input points (fixed at 3 for now). As <img class="formulaInl" alt="$k$" src="form_192.png"/> becomes large, <img class="formulaInl" alt="$|T|\approx 2 \left(2^d\right)^k$" src="form_193.png"/>. Using this approximation, we can solve for <img class="formulaInl" alt="$k$" src="form_192.png"/>: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ k = \frac{\log{\frac{N}{2n}}}{\log{2^d}} \]" src="form_194.png"/>
</p>
<p> Given a set of <img class="formulaInl" alt="$N$" src="form_187.png"/> input label anchors, we'll compute <img class="formulaInl" alt="$k$" src="form_192.png"/> and then bin the anchors into tree nodes at level <img class="formulaInl" alt="$k$" src="form_192.png"/> of the tree. After this, all the nodes will be in the leaves of the tree and those leaves will be at the <img class="formulaInl" alt="$k$" src="form_192.png"/>-th level; no anchors will be in levels <img class="formulaInl" alt="$1, 2, \ldots, k-1$" src="form_195.png"/>. To fix that, we'll choose to move some anchors upwards. The exact number to move upwards depends on <em>TargetLabelCount</em>. We'll move as many up as required to have <em>TargetLabelCount</em> at each node.</p>
<p>You should avoid situations where <em>MaximumDepth</em> does not allow for <em>TargetLabelCount</em> or fewer entries at each node. The <em>MaximumDepth</em> is a hard limit while <em>TargetLabelCount</em> is a suggested optimum. You will end up with many more than <em>TargetLabelCount</em> entries per node and things will be sloooow.</p>
<p>To create an instance of class vtkLabelHierarchy, simply invoke its constructor as follows </p>
<pre class="fragment">  obj = vtkLabelHierarchy
</pre> <h1><a class="anchor" id="Methods"></a>
Methods</h1>
<p>The class vtkLabelHierarchy has several methods that can be used. They are listed below. Note that the documentation is translated automatically from the VTK sources, and may not be completely intelligible. When in doubt, consult the VTK website. In the methods listed below, <code>obj</code> is an instance of the vtkLabelHierarchy class. </p>
<ul>
<li>
<code>string = obj.GetClassName ()</code>  </li>
<li>
<code>int = obj.IsA (string name)</code>  </li>
<li>
<code>vtkLabelHierarchy = obj.NewInstance ()</code>  </li>
<li>
<code>vtkLabelHierarchy = obj.SafeDownCast (vtkObject o)</code>  </li>
<li>
<code>obj.SetPoints (vtkPoints )</code> - Override SetPoints so we can reset the hierarchy when the points change.  </li>
<li>
<code>obj.ComputeHierarchy ()</code> - Fill the hierarchy with the input labels.  </li>
<li>
<code>obj.SetTargetLabelCount (int )</code> - The number of labels that is ideally present at any octree node. It is best if this is a multiple of <img class="formulaInl" alt="$2^d$" src="form_196.png"/>.  </li>
<li>
<code>int = obj.GetTargetLabelCount ()</code> - The number of labels that is ideally present at any octree node. It is best if this is a multiple of <img class="formulaInl" alt="$2^d$" src="form_196.png"/>.  </li>
<li>
<code>obj.SetMaximumDepth (int )</code> - The maximum depth of the octree.  </li>
<li>
<code>int = obj.GetMaximumDepth ()</code> - The maximum depth of the octree.  </li>
<li>
<code>obj.SetTextProperty (vtkTextProperty tprop)</code> - The default text property assigned to labels in this hierarchy.  </li>
<li>
<code>vtkTextProperty = obj.GetTextProperty ()</code> - The default text property assigned to labels in this hierarchy.  </li>
<li>
<code>obj.SetPriorities (vtkDataArray arr)</code> - Set/get the array specifying the importance (priority) of each label.  </li>
<li>
<code>vtkDataArray = obj.GetPriorities ()</code> - Set/get the array specifying the importance (priority) of each label.  </li>
<li>
<code>obj.SetLabels (vtkAbstractArray arr)</code> - Set/get the array specifying the text of each label.  </li>
<li>
<code>vtkAbstractArray = obj.GetLabels ()</code> - Set/get the array specifying the text of each label.  </li>
<li>
<code>obj.SetOrientations (vtkDataArray arr)</code> - Set/get the array specifying the orientation of each label.  </li>
<li>
<code>vtkDataArray = obj.GetOrientations ()</code> - Set/get the array specifying the orientation of each label.  </li>
<li>
<code>obj.SetIconIndices (vtkIntArray arr)</code> - Set/get the array specifying the icon index of each label.  </li>
<li>
<code>vtkIntArray = obj.GetIconIndices ()</code> - Set/get the array specifying the icon index of each label.  </li>
<li>
<code>obj.SetSizes (vtkDataArray arr)</code> - Set/get the array specifying the size of each label.  </li>
<li>
<code>vtkDataArray = obj.GetSizes ()</code> - Set/get the array specifying the size of each label.  </li>
<li>
<code>obj.SetBoundedSizes (vtkDataArray arr)</code> - Set/get the array specifying the maximum width and height in world coordinates of each label.  </li>
<li>
<code>vtkDataArray = obj.GetBoundedSizes ()</code> - Set/get the array specifying the maximum width and height in world coordinates of each label.  </li>
<li>
<code>obj.GetDiscreteNodeCoordinatesFromWorldPoint (int ijk[3], double pt[3], int level)</code> - Given a depth in the hierarchy (<em>level</em>) and a point <em>pt</em> in world space, compute <em>ijk</em>. This is used to find other octree nodes at the same <em>level</em> that are within the search radius for candidate labels to be placed. It is called with <em>pt</em> set to the camera eye point and pythagorean quadruples increasingly distant from the origin are added to <em>ijk</em> to identify octree nodes whose labels should be placed. <dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ijk</td><td>- discrete coordinates of the octree node at <em>level</em> containing <em>pt</em>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pt</td><td>- input world point coordinates </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>- input octree level to be considered  </td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<code>vtkIdType = obj.GetNumberOfCells ()</code> - Inherited members (from vtkDataSet)  </li>
<li>
<code>vtkCell = obj.GetCell (vtkIdType )</code> - Inherited members (from vtkDataSet)  </li>
<li>
<code>obj.GetCell (vtkIdType , vtkGenericCell )</code> - Inherited members (from vtkDataSet)  </li>
<li>
<code>int = obj.GetCellType (vtkIdType )</code> - Inherited members (from vtkDataSet)  </li>
<li>
<code>obj.GetCellPoints (vtkIdType , vtkIdList )</code> - Inherited members (from vtkDataSet)  </li>
<li>
<code>obj.GetPointCells (vtkIdType , vtkIdList )</code> - Inherited members (from vtkDataSet)  </li>
<li>
<code>int = obj.GetMaxCellSize ()</code> - Inherited members (from vtkDataSet)  </li>
<li>
<code>vtkPoints = obj.GetCenterPts ()</code> - Provide access to original coordinates of sets of coincident points  </li>
<li>
<code>vtkCoincidentPoints = obj.GetCoincidentPoints ()</code> - Provide access to the set of coincident points that have been perturbed by the hierarchy in order to render labels for each without overlap.  </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">FreeMat Documentation</a></li><li class="navelem"><a class="el" href="sec_vtkrendering.html">Visualization Toolkit Rendering Classes</a></li>
    <li class="footer">Generated on Thu Jul 25 2013 17:18:35 for FreeMat by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.1 </li>
  </ul>
</div>
</body>
</html>
